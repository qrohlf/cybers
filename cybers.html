<!doctype html>
<html>
  <head>
    <style type="text/css">
      html {
        height: 100%;
      }
      body {
        font-family: Menlo;
        font-size: 128px;
        text-align: center;
        padding-top: 256px;
        min-height: 100%;
        background: #eee;
      }
    </style>
    <script src="https://cdn.firebase.com/js/client/2.0.2/firebase.js"></script>
  </head>
  <body>
    <span id="cyber"></span>
    <script type="text/javascript">
    var cybers = new Firebase('https://cybers.firebaseio.com/');
    var yesterday = new Date().getTime() - 8640000; // 8640000 ms == 1 day

    window.onclick = function() {
      var data = {time: new Date().getTime()};
      cybers.push(data);
      console.log(data);
    };

    function renderCybers(n) {
      document.getElementById('cyber').innerHTML = n+' cybers today';
    }

    cybers.orderByChild('time').startAt(yesterday).on('value', function(snapshot) {
      renderCybers(snapshot.numChildren());
    });

    </script>
  </body>
</html>